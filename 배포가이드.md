# 🎮 땅굴파기 게임 - 배포 가이드

## ✅ 빌드 완료!

빌드가 성공적으로 완료되었습니다!

### 📁 생성된 파일 위치

```
프로젝트 폴더/
├── dist/
│   └── TunnelingGame.exe  ⭐ 이 파일이 게임 실행 파일입니다!
├── build/                  (빌드 임시 파일)
└── TunnelingGame.spec      (빌드 설정 파일)
```

## 🚀 배포 방법

### 방법 0: 사내 공유용 "웹(브라우저) 버전" 배포 ⭐ 권장

EXE 배포는 보안 정책에 걸릴 수 있으므로, **브라우저에서 바로 실행되는 웹 버전**을 함께 제공합니다.

#### 0-1) 웹 빌드 만들기

1. `web_build.bat` 실행 (권장, 파일명 깨짐 방지)
   - 또는 `웹빌드실행.bat` 실행 (탐색기 더블클릭 기준)
2. 산출물 폴더 생성 확인: `build\web`
   - `build\web\index.html`
   - `build\web\tunnelinggame_app.apk`

> 참고: 웹 버전은 **정적 파일**이므로 “서버에 올려서 URL로 공유”하거나 “폴더를 내려받아 로컬 서버로 실행”하는 방식이 적합합니다.

#### 0-2) 로컬에서 바로 플레이(다운로드 방식)

1. 공유할 때 `build\web` 폴더를 ZIP으로 압축해서 전달
2. 받는 사람은 압축 해제 후 아래 중 하나 실행
   - (권장) **Python 없이 실행**: `web_run_local_ps.bat`
   - Python이 설치되어 있다면: `web_run_local.bat`
   - (대안) `웹로컬실행.bat`
3. 브라우저에서 **실행 창에 표시된 주소**로 접속 후 플레이  
   - 예: `http://127.0.0.1:8000/` (권장) 또는 `http://localhost:8000/`

#### 0-3) 사내 웹서버에 올려 URL로 공유(가장 편함)

- `build\web` 폴더 내용을 사내 정적 호스팅(예: 사내 Nginx/Apache/사내 위키 첨부/사내 스토리지 웹 퍼블리시)에 업로드
- 업로드된 `index.html` 경로로 접속

#### 0-4) 보안/개발 기능 안내

- **테스트 모드(T 키)**는 개발용입니다.
  - 기본값: **항상 OFF** (웹/EXE 배포본에서도 동작하지 않음)
  - 개발자가 로컬에서만 켜는 방법:
    - PowerShell: `$env:TUNNELINGGAME_DEVTOOLS="1"` 후 실행
    - CMD: `set TUNNELINGGAME_DEVTOOLS=1` 후 실행

## 🌍 사내 웹서버가 어렵다면: GitHub Pages / Vercel로 링크 배포(추천)

사내망에서 로컬 실행이 막히거나(정책/프록시/브라우저 설정), “URL 링크로 바로 플레이”가 필요하면 아래 방식이 가장 현실적입니다.

### A) GitHub Pages (자동 배포)

1. GitHub 저장소 생성 후 코드 푸시
2. GitHub → Settings → Pages → Build and deployment: **GitHub Actions**
3. `main` 브랜치에 푸시하면 `.github/workflows/deploy_web.yml`이 자동으로:
   - `pygbag` 웹 빌드 생성
   - Pages로 배포

### B) Vercel (정적 호스팅)

1. Vercel에 GitHub 저장소 연결
2. Deploy 실행
3. `vercel.json` 설정으로 **빌드 없이** `build/web`을 배포 디렉터리로 사용
4. 배포 전에는 로컬에서 `web_build.bat` 실행 후 최신 `build/web` 폴더가 생성된 상태로 푸시 권장

### 방법 1: 단순 공유 (가장 쉬움)

```
dist/TunnelingGame.exe 파일만 복사해서 전달
→ 받는 사람은 더블클릭으로 바로 실행!
```

**장점:**
- ✅ Python 설치 불필요
- ✅ 다른 파일 필요 없음
- ✅ 단일 파일이라 관리 쉬움

### 방법 2: ZIP 파일로 배포

1. 배포 폴더 생성:
```
땅굴파기게임_v1.0/
├── TunnelingGame.exe
├── README.txt
└── 게임방법.txt
```

2. ZIP으로 압축
3. 공유 (이메일, 클라우드, USB 등)

### 방법 3: GitHub Releases

```bash
1. GitHub 저장소 생성
2. Releases 탭 클릭
3. "Create a new release" 클릭
4. TunnelingGame.exe 업로드
5. 버전 정보 작성
6. Publish release
```

### 방법 4: itch.io 배포 (게임 플랫폼)

1. https://itch.io 계정 생성
2. "Upload new project" 클릭
3. 게임 정보 입력
4. TunnelingGame.exe 업로드
5. 가격 설정 (무료/유료)
6. Publish

## 📝 사용자용 README.txt 예시

```
===========================================
   땅굴파기 게임 v1.0
===========================================

[ 설치 방법 ]
설치가 필요 없습니다!
TunnelingGame.exe를 더블클릭하면 바로 실행됩니다.

[ 시스템 요구사항 ]
- Windows 10/11 (64비트)
- 메모리: 100MB 이상
- Python 설치 불필요

[ 게임 방법 ]
- 이동: A, D, S 키
- 점프: Space 바
- 땅굴 파기: L 키

[ 목표 ]
지하 30층까지 땅굴을 파내려가세요!
몬스터를 피하고 최단 시간 기록에 도전하세요!

[ 문제 해결 ]
Q: Windows Defender 경고가 뜹니다
A: "추가 정보" → "실행" 클릭

Q: 게임이 실행되지 않습니다
A: 관리자 권한으로 실행해보세요

[ 연락처 ]
버그 리포트: [이메일 주소]
===========================================
```

## 🔒 Windows Defender 경고 해결

처음 실행 시 다음 메시지가 나타날 수 있습니다:
```
"Windows의 PC 보호"
알 수 없는 게시자
```

**해결 방법:**
1. "추가 정보" 클릭
2. "실행" 버튼 클릭
3. 게임 실행!

**왜 발생하나요?**
- 디지털 서명이 없는 앱이기 때문
- 유료 코드 서명 인증서가 필요 ($100~$500/년)

## 🎨 배포 품질 향상하기

### 1. 아이콘 추가

```bash
# game_icon.ico 파일 준비 후
pyinstaller --icon=game_icon.ico --onefile --noconsole tunneling_game.py
```

아이콘 제작 사이트:
- https://www.icoconverter.com/ (PNG → ICO)
- Canva (아이콘 디자인)

### 2. 설치 프로그램 만들기

**Inno Setup 사용:**
```iss
[Setup]
AppName=땅굴파기 게임
AppVersion=1.0
DefaultDirName={pf}\TunnelingGame
OutputBaseFilename=TunnelingGame_Setup

[Files]
Source: "dist\TunnelingGame.exe"; DestDir: "{app}"

[Icons]
Name: "{commondesktop}\땅굴파기 게임"; Filename: "{app}\TunnelingGame.exe"
```

### 3. 자동 업데이트 시스템

- GitHub Releases API 사용
- 버전 체크 후 자동 다운로드

## 📊 파일 크기 줄이기

현재: ~50MB

**최적화 방법:**

```bash
# UPX 압축 사용
pyinstaller --onefile --noconsole --upx-dir=upx tunneling_game.py

# 불필요한 모듈 제외
pyinstaller --onefile --noconsole --exclude-module matplotlib tunneling_game.py
```

→ 크기: ~30MB로 감소

## 🌐 다양한 플랫폼 배포

### Windows
✅ 완료! (TunnelingGame.exe)

### Mac
```bash
pyinstaller --onefile --noconsole --name TunnelingGame tunneling_game.py
# 결과: dist/TunnelingGame (Mac 실행 파일)
```

### Linux
```bash
pyinstaller --onefile --name TunnelingGame tunneling_game.py
# 결과: dist/TunnelingGame (Linux 실행 파일)
```

## 📦 전문 배포 체크리스트

- [ ] 아이콘 추가
- [ ] 버전 정보 임베드
- [ ] 디지털 서명 (옵션)
- [ ] 설치 프로그램 제작
- [ ] README 파일 작성
- [ ] 라이선스 파일 포함
- [ ] 바이러스 스캔 (VirusTotal)
- [ ] 여러 PC에서 테스트
- [ ] 압축 파일 생성
- [ ] 배포 플랫폼 업로드

## 🎯 추천 배포 순서

1. **친구/가족 테스트** (TunnelingGame.exe만 전달)
2. **피드백 수집**
3. **버그 수정**
4. **README 작성**
5. **ZIP으로 패키징**
6. **itch.io 업로드**
7. **GitHub Releases**
8. **SNS 홍보!**

---

## 🎉 축하합니다!

게임이 성공적으로 빌드되었습니다!
이제 누구나 Python 없이 게임을 즐길 수 있습니다!

**배포 파일**: `dist/TunnelingGame.exe`
**파일 크기**: 약 50MB
**실행 환경**: Windows 10/11 (64-bit)

게임을 많은 사람들과 공유하세요! 🚀



